{"version":3,"sources":["app.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["/// <reference path=\"../../typings/jquery/jquery.d.ts\"/>\r\n/// <reference path=\"../../typings/d3/d3.d.ts\"/>\r\n\r\n$(() => {\r\n\tconst height = 800;\r\n\tconst width = 2000;\r\n\tconst aspect = Math.floor(height / width);\r\n\tconst paddingLeft = 100;\r\n\tconst paddingBottom = 100;\r\n\tconst classLegendX = 130;\r\n\tconst rootSelector = \".sa-timeline__inner\";\r\n\tconst root = $(rootSelector);\r\n\t\r\n\troot.draggable({\r\n\t\taxis: 'x'\r\n\t});\r\n\t\r\n\tconst container = d3.select(rootSelector);\r\n\tconst svg = container.append(\"svg\")\r\n\t\t.attr({\r\n\t\t\twidth: '100%',\r\n\t\t\tviewBox: `0 0 ${width} ${height}`,\r\n\t\t\tpreserveAspectRatio: 'xMidYMid'\r\n\t\t});\r\n\t\t\r\n\tconst assignments = [\r\n\t\t{\r\n\t\t\tdueDate: '2015-07-28T00:00:00Z',\r\n\t\t\ttitle: 'Assignment 1',\r\n\t\t\tdescription: '',\r\n\t\t\tclassId: 1,\r\n\t\t},\r\n\t\t{\r\n\t\t\tdueDate: '2015-07-30T00:00:00Z',\r\n\t\t\ttitle: 'Assignment 2',\r\n\t\t\tdescription: '',\r\n\t\t\tclassId: 2,\t\r\n\t\t},\r\n\t\t{\r\n\t\t\tdueDate: '2015-08-05T00:00:00Z',\r\n\t\t\ttitle: 'Assignment 3',\r\n\t\t\tdescription: '',\r\n\t\t\tclassId: 1,\t\r\n\t\t},\r\n\t\t{\r\n\t\t\tdueDate: '2015-08-10T00:00:00Z',\r\n\t\t\ttitle: 'Assignment 4',\r\n\t\t\tdescription: '',\r\n\t\t\tclassId: 2,\t\r\n\t\t}\r\n\t];\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t// create x-scale\r\n\tconst minDomainDate = moment('2015-07-25T00:00:00Z');\r\n\tconst maxDomainDate = moment('2015-08-10T00:00:00Z');\r\n\tconst currentDateMoment = moment().set({\r\n\t\thours: 0,\r\n\t\tminutes: 0,\r\n\t\tseconds: 0,\r\n\t\tmilliseconds: 0\r\n\t});\r\n\t\r\n\tvar xScale = d3.time.scale()\r\n\t\t.domain([minDomainDate, maxDomainDate])\r\n\t\t.range([classLegendX, width-classLegendX])\r\n\t;\r\n\t\r\n\tconst currentDateLine = svg\r\n\t\t.append(\"line\")\r\n\t\t.attr({\r\n\t\t\tx1: xScale(currentDateMoment),\r\n\t\t\ty1: 0,\r\n\t\t\tx2: xScale(currentDateMoment),\r\n\t\t\ty2: height,\r\n\t\t\t'stroke-width': 2,\r\n\t\t\t'stroke': '#965b93'\r\n\t\t})\r\n\t\r\n\t\r\n\t// Add x axises\r\n\tconst xAxisTicks = d3.svg.axis()\r\n\t\t.scale(xScale)\r\n\t\t.orient(\"bottom\")\r\n\t\t.ticks(d3.time.days, 2)\r\n\t;\r\n\t\r\n\tconst xAxisOffsets = d3.svg.axis()\r\n\t\t.scale(xScale)\r\n\t\t.orient(\"bottom\")\r\n\t\t.ticks(d3.time.days, 2)\r\n\t\t.tickFormat(date => {\r\n\t\t\tvar duration = moment.duration(moment(date).diff(currentDateMoment));\r\n\t\t\tvar days = duration.asDays();\r\n\t\t\treturn days;\r\n\t\t})\r\n\t;\r\n\t\r\n\tconst xAxisDates = d3.svg\r\n\t\t.axis()\r\n\t\t.scale(xScale)\r\n\t\t.orient(\"bottom\")\r\n\t\t.ticks(d3.time.days, 2)\r\n\t\t.tickFormat(date => moment(date).format('M/d'))\r\n\t;\r\n\t\r\n\tconst xAxisDays = d3.svg\r\n\t\t.axis()\r\n\t\t.scale(xScale)\r\n\t\t.orient(\"bottom\")\r\n\t\t.ticks(d3.time.days, 2)\r\n\t\t.tickFormat(date => moment(date).format('dd'))\r\n\t;\r\n\r\n\t// Add X-axis ticks\r\n\tsvg\r\n\t\t.append(\"g\")\r\n\t\t.attr({\r\n\t\t\tclass: \"axis axis--x axis--x-ticks\"\r\n\t\t})\r\n\t\t.attr(\"transform\", \"translate(0,\" + (height - paddingBottom) + \")\")\r\n\t\t.call(xAxisTicks)\r\n\t; \r\n\t// Add X-axis Offsets\r\n\tsvg\r\n\t\t.append(\"g\")\r\n\t\t.attr({\r\n\t\t\tclass: \"axis axis--x axis--x-offsets\"\r\n\t\t})\r\n\t\t.attr(\"transform\", \"translate(0,\" + (height - paddingBottom + 5) + \")\")\r\n\t\t.call(xAxisOffsets)\r\n\t;\r\n\t\r\n\t// Add X-axis Offsets\r\n\tsvg\r\n\t\t.append(\"g\")\r\n\t\t.attr({\r\n\t\t\tclass: \"axis axis--x axis--x-dates\"\r\n\t\t})\r\n\t\t.attr(\"transform\", \"translate(0,\" + (height - paddingBottom + 35) + \")\")\r\n\t\t.call(xAxisDates)\r\n\t;\r\n\t\r\n\t// Add X-axis Offsets\r\n\tsvg\r\n\t\t.append(\"g\")\r\n\t\t.attr({\r\n\t\t\tclass: \"axis axis--x axis--x-days\"\r\n\t\t})\r\n\t\t.attr(\"transform\", \"translate(0,\" + (height - paddingBottom + 65) + \")\")\r\n\t\t.call(xAxisDays)\r\n\t;\r\n\r\n\t// Add Class Legend\r\n\tconst classes = [\r\n\t\t{\r\n\t\t\tname: 'ECE200',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'CHEM330'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'PHYS200'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'MATH300'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'PSY100'\r\n\t\t}\r\n\t];\r\n\t\r\n\tsvg\r\n\t\t.selectAll(\"xyz\")\r\n\t\t.data(classes)\r\n\t\t.enter()\r\n\t\t.append(\"text\")\r\n\t\t.attr({\r\n\t\t\t'text-anchor': 'end',\r\n\t\t\tx: classLegendX,\r\n\t\t\ty: (d, i) => height - (i * 30 + paddingBottom + 30)\r\n\t\t})\r\n\t\t.text(d => d.name)\r\n\t;\r\n\t\r\n\tconst stripNonDate = m => {\r\n\t\treturn m.set({\r\n\t\t\thours: 0,\r\n\t\t\tminutes: 0,\r\n\t\t\tseconds: 0,\r\n\t\t\tmilliseconds: 0\r\n\t\t});\r\n\t}\r\n\t\r\n\tconst scaledDate = event => xScale(stripNonDate(moment(event.dueDate)));\r\n\t\r\n\tconst circles = svg\r\n\t\t.selectAll(\"xyz\")\r\n\t\t.data(assignments)\r\n\t\t.enter()\r\n\t\t.append(\"circle\")\r\n\t\t.attr({\r\n\t\t\tcx: scaledDate,\r\n\t\t\tcy: d => height - (100 + 30 + ((d.classId === 1) ? 5  : 35)),\r\n\t\t\tr: 10\r\n\t\t})\r\n\t\t.style({\r\n\t\t\tfill: '#965b93'\r\n\t\t})\r\n\t\t.text(d => d.title)\r\n\t;\r\n\t\r\n\tconst lines = svg\r\n\t\t.selectAll(\"xyz\")\r\n\t\t.data(assignments)\r\n\t\t.enter()\r\n\t\t.append(\"line\")\r\n\t\t.attr({\r\n\t\t\tx1: scaledDate,\r\n\t\t\ty1: height - paddingBottom,\r\n\t\t\tx2: scaledDate,\r\n\t\t\ty2: d => height - (100 + 30 + ((d.classId === 1) ? 5  : 35)),\r\n\t\t\t'stroke-width': 2,\r\n\t\t\t'stroke': '#965b93'\r\n\t\t})\r\n\t;\r\n});"],"sourceRoot":"/source/"}